{"remainingRequest":"/vagrant/snail-x-core-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/vagrant/snail-x-core-vue/src/components/auth/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/vagrant/snail-x-core-vue/src/components/auth/Register.vue","mtime":1539267408782},{"path":"/vagrant/snail-x-core-vue/node_modules/cache-loader/dist/cjs.js","mtime":1539183672852},{"path":"/vagrant/snail-x-core-vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/vagrant/snail-x-core-vue/node_modules/cache-loader/dist/cjs.js","mtime":1539183672852},{"path":"/vagrant/snail-x-core-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n    name: 'Register',\n    data() {\n        return {\n            firstName: \"\",\n            lastName: \"\",\n            email: \"\",\n            password: \"\",\n            attemptSubmit: false,\n        }\n    },\n    computed: {\n        missingFirstName: function () { return this.firstName === ''; },\n        missingLastName: function () { return this.lastName === ''; },\n        invalidEmail: function () { return this.isEmail(this.email) === false; },\n        invalidPassword: function() { return this.isPassword(this.password) === false; }\n    },\n    methods: {\n        isEmail: function (input) {\n            const re = /\\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}\\b/;\n            return re.test(input);\n        },\n        isPassword: function (input) {\n            const re = /^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{8,}$/;\n            return re.test(input);\n        },\n        validateForm: function (event) {\n            this.attemptSubmit = true;\n            if (this.missingFirstName || this.missingLastName || this.invalidEmail || this.invalidPassword) event.preventDefault();\n            if (this.email_in_db()) event.preventDefault();\n            else (this.register());\n\n            // if (!this.lastName.checkValidity()) {\n            //     document.getElementById(\"lname\").innerHTML = this.lastName.validationMessage;\n            // }\n            //\n            //\n            // if (!this.email.checkValidity()) {\n            //     document.getElementById(\"email\").innerHTML = this.email.validationMessage;\n            // }\n            //\n            //\n            // if (!this.password.checkValidity()) {\n            //     document.getElementById(\"pswd\").innerHTML = this.password.validationMessage;\n            // }\n\n        },\n\n        email_in_db() {\n            this.$store.dispatch('emailInDB', {\n                email: this.email,\n            })\n                .then((response) => {\n                    var result = Boolean(response.data);\n                    if (result == true) {\n                        alert(\"It exists you idiot!\")\n                        return true\n                    }\n                    else {\n                        alert(\"Well done young one, this is a new email\")\n                        return false\n                    }\n                })\n        },\n        register() {\n            alert(\"register has been called!\")\n            this.$store.dispatch('registerUser', {\n                firstName: this.firstName,\n                lastName: this.lastName,\n                email: this.email,\n                password: this.password\n            })\n                .then(() => {\n                    alert(\"going to login\")\n                    this.$router.push({name: 'login'})\n                })\n        }\n    }\n}\n",{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/components/auth","sourcesContent":["<template>\n    <div id=\"register\">\n        <form id=\"reg\"\n              method=\"post\"\n              v-on:submit=\"validateForm\">\n              <!--novalidate=\"true\"-->\n            <!--action=\"register()\"-->\n\n            <h3 class=\"page-title\">Register</h3>\n            <hr>\n            <div class=\"form-group\">\n                <input type=\"text\" class=\"form-control\" name=\"firstName\" v-model=\"firstName\"\n                       placeholder=\"First Name\" maxlength=\"100\" v-bind:class=\"{ 'is-invalid': attemptSubmit && missingFirstName }\"/>\n                <div class=\"invalid-feedback\">First name is required.</div>\n\n                <input type=\"text\" class=\"form-control\" name=\"lastName\" v-model=\"lastName\"\n                       placeholder=\"Last Name\" maxlength=\"100\" v-bind:class=\"{ 'is-invalid': attemptSubmit && missingLastName }\"/>\n                <div class=\"invalid-feedback\">Last name is required.</div>\n\n                <input type=\"email\" class=\"form-control\" name=\"email\" v-model=\"email\"\n                       placeholder=\"Email\" maxlength=\"100\" v-bind:class=\"{ 'is-invalid': attemptSubmit && invalidEmail }\"/>\n                <div class=\"invalid-feedback\">Email is required, and must be a valid email format.</div>\n\n                <input type=\"password\" class=\"form-control\" name=\"password\" v-model=\"password\"\n                       placeholder=\"Password\" maxlength=\"100\" v-bind:class=\"{ 'is-invalid': attemptSubmit && invalidPassword }\"/>\n                <div class=\"invalid-feedback\">Password must be at least 8 characters long, contain one number and one special character.</div>\n\n                <input type=\"submit\" style=\"float: right;\" class=\"btn btn-primary\" value=\"Register\"/>\n\n                <button style=\"margin-right: 1em; float: right\" type=\"button\" class=\"btn btn-warning\"\n                        onclick=\"window.history.back()\">Back</button>\n            </div>\n        </form>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: 'Register',\n        data() {\n            return {\n                firstName: \"\",\n                lastName: \"\",\n                email: \"\",\n                password: \"\",\n                attemptSubmit: false,\n            }\n        },\n        computed: {\n            missingFirstName: function () { return this.firstName === ''; },\n            missingLastName: function () { return this.lastName === ''; },\n            invalidEmail: function () { return this.isEmail(this.email) === false; },\n            invalidPassword: function() { return this.isPassword(this.password) === false; }\n        },\n        methods: {\n            isEmail: function (input) {\n                const re = /\\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}\\b/;\n                return re.test(input);\n            },\n            isPassword: function (input) {\n                const re = /^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{8,}$/;\n                return re.test(input);\n            },\n            validateForm: function (event) {\n                this.attemptSubmit = true;\n                if (this.missingFirstName || this.missingLastName || this.invalidEmail || this.invalidPassword) event.preventDefault();\n                if (this.email_in_db()) event.preventDefault();\n                else (this.register());\n\n                // if (!this.lastName.checkValidity()) {\n                //     document.getElementById(\"lname\").innerHTML = this.lastName.validationMessage;\n                // }\n                //\n                //\n                // if (!this.email.checkValidity()) {\n                //     document.getElementById(\"email\").innerHTML = this.email.validationMessage;\n                // }\n                //\n                //\n                // if (!this.password.checkValidity()) {\n                //     document.getElementById(\"pswd\").innerHTML = this.password.validationMessage;\n                // }\n\n            },\n\n            email_in_db() {\n                this.$store.dispatch('emailInDB', {\n                    email: this.email,\n                })\n                    .then((response) => {\n                        var result = Boolean(response.data);\n                        if (result == true) {\n                            alert(\"It exists you idiot!\")\n                            return true\n                        }\n                        else {\n                            alert(\"Well done young one, this is a new email\")\n                            return false\n                        }\n                    })\n            },\n            register() {\n                alert(\"register has been called!\")\n                this.$store.dispatch('registerUser', {\n                    firstName: this.firstName,\n                    lastName: this.lastName,\n                    email: this.email,\n                    password: this.password\n                })\n                    .then(() => {\n                        alert(\"going to login\")\n                        this.$router.push({name: 'login'})\n                    })\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    #register {\n        position: fixed;\n        top: 10%;\n        left: 11%;\n        width: 50%;\n        border: 1px solid grey;\n        background-color: #FFFFFF;\n        margin: 10em;\n        padding: 20px;\n    }\n\n    input {\n        margin-bottom: 1em;\n    }\n</style>"]}]}