{"remainingRequest":"/vagrant/snail-x-core-vue/node_modules/babel-loader/lib/index.js!/vagrant/snail-x-core-vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/vagrant/snail-x-core-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/vagrant/snail-x-core-vue/src/components/auth/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/vagrant/snail-x-core-vue/src/components/auth/Register.vue","mtime":1539349207811},{"path":"/vagrant/snail-x-core-vue/node_modules/cache-loader/dist/cjs.js","mtime":1539183672852},{"path":"/vagrant/snail-x-core-vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/vagrant/snail-x-core-vue/node_modules/cache-loader/dist/cjs.js","mtime":1539183672852},{"path":"/vagrant/snail-x-core-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'Register',\n  data: function data() {\n    return {\n      firstName: \"\",\n      lastName: \"\",\n      email: \"\",\n      password: \"\",\n      allValid: true\n    };\n  },\n  computed: {\n    missingFirstName: function missingFirstName() {\n      return this.firstName === '';\n    },\n    missingLastName: function missingLastName() {\n      return this.lastName === '';\n    },\n    invalidEmail: function invalidEmail() {\n      return this.isEmail(this.email) === false;\n    },\n    duplicateEmail: function duplicateEmail() {\n      return this.email_in_db(this.email);\n    },\n    invalidPassword: function invalidPassword() {\n      return this.isPassword(this.password) === false;\n    }\n  },\n  methods: {\n    isEmail: function isEmail(input) {\n      var re = /\\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}\\b/;\n      return re.test(input);\n    },\n    isPassword: function isPassword(input) {\n      var re = /^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{8,}$/;\n      return re.test(input);\n    },\n    validateFirstName: function validateFirstName() {\n      if (this.missingFirstName) {\n        document.getElementById(\"fName\").innerHTML = \"First name is required.\";\n        this.allValid = false;\n      } else {\n        document.getElementById(\"fName\").innerHTML = \"\";\n      }\n    },\n    validateLastName: function validateLastName() {\n      if (this.missingLastName) {\n        document.getElementById(\"lName\").innerHTML = \"Last name is required.\";\n        this.allValid = false;\n      } else {\n        document.getElementById(\"lName\").innerHTML = \"\";\n      }\n    },\n    validatePassword: function validatePassword() {\n      if (this.invalidPassword) {\n        document.getElementById(\"psswd\").innerHTML = \"Password must be at least 8 characters long, and contain one number and one special character.\";\n        this.allValid = false;\n      } else {\n        document.getElementById(\"psswd\").innerHTML = \"\";\n      }\n    },\n    validateEmail: function validateEmail() {\n      var _this = this;\n\n      if (this.invalidEmail) {\n        document.getElementById(\"email\").innerHTML = \"Email is required, and must be of a valid email format.\";\n        this.allValid = false;\n      } else {\n        this.duplicateEmail.then(function (inDb) {\n          if (inDb) {\n            alert(\"duplicateEmail if statement called\");\n            document.getElementById(\"email\").innerHTML = \"User account with this email already exists.\";\n            _this.allValid = false;\n          } else {\n            alert(\"html set to blank\");\n            document.getElementById(\"email\").innerHTML = \"\";\n          }\n        }).then(function () {\n          if (!_this.allValid) {\n            return;\n          }\n\n          _this.register();\n        });\n      }\n    },\n    validateForm: function validateForm(event) {\n      this.allValid = true;\n      this.validateFirstName();\n      this.validateLastName();\n      this.validatePassword();\n      this.validateEmail(); // event.preventDefault();\n    },\n    email_in_db: function email_in_db() {\n      alert(\"email_in_db called - she wants her clothes back\");\n      return this.$store.dispatch('emailInDB', {\n        email: this.email\n      }).then(function (response) {\n        var result = Boolean(response);\n\n        if (result) {\n          alert(\"Its true!\");\n          return true;\n        } else {\n          alert(\"Its false!!\");\n          return false;\n        }\n      });\n    },\n    register: function register() {\n      var _this2 = this;\n\n      this.$store.dispatch('registerUser', {\n        firstName: this.firstName,\n        lastName: this.lastName,\n        email: this.email,\n        password: this.password\n      }).then(function () {\n        _this2.$router.push({\n          name: 'login'\n        });\n      });\n    }\n  }\n};",{"version":3,"sources":["Register.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div id=\"register\">\n        <form id=\"reg\"\n              @submit.prevent=\"validateForm\">\n\n            <h3 class=\"page-title\">Register</h3>\n            <hr>\n            <div class=\"form-group\">\n                <!--<input type=\"text\" class=\"form-control\" name=\"firstName\" v-model=\"firstName\"-->\n                       <!--placeholder=\"First Name\" maxlength=\"100\" v-bind:class=\"{ 'is-invalid': attemptSubmit && missingFirstName }\"/>-->\n                <!--<div class=\"invalid-feedback\">First name is required.</div>-->\n\n                <!--<input type=\"text\" class=\"form-control\" name=\"lastName\" v-model=\"lastName\"-->\n                       <!--placeholder=\"Last Name\" maxlength=\"100\" v-bind:class=\"{ 'is-invalid': attemptSubmit && missingLastName }\"/>-->\n                <!--<div class=\"invalid-feedback\">Last name is required.</div>-->\n\n                <!--<input type=\"email\" class=\"form-control\" name=\"email\" v-model=\"email\"-->\n                       <!--placeholder=\"Email\" maxlength=\"100\" v-bind:class=\"{ 'is-invalid': attemptSubmit && invalidEmail }\"/>-->\n                <!--<div class=\"invalid-feedback\">Email is required, and must be a valid email format.</div>-->\n\n                <!--<div v-bind:class=\"{ 'is-invalid': attemptSubmit && duplicateEmail }\"></div>-->\n                <!--<div class=\"invalid-feedback\">Email already exists in database.</div>-->\n\n                <!--<input type=\"password\" class=\"form-control\" name=\"password\" v-model=\"password\"-->\n                       <!--placeholder=\"Password\" maxlength=\"100\" v-bind:class=\"{ 'is-invalid': attemptSubmit && invalidPassword }\"/>-->\n                <!--<div class=\"invalid-feedback\">Password must be at least 8 characters long, contain one number and one special character.</div>-->\n\n                <input type=\"text\" class=\"form-control\" name=\"firstName\" v-model=\"firstName\"\n                       placeholder=\"First Name\" maxlength=\"100\"/>\n                <p id=\"fName\" class=\"validation-alert\"></p>\n\n                <input type=\"text\" class=\"form-control\" name=\"lastName\" v-model=\"lastName\"\n                       placeholder=\"Last Name\" maxlength=\"100\"/>\n                 <p id=\"lName\" class=\"validation-alert\"></p>\n\n                <input type=\"text\" class=\"form-control\" name=\"email\" v-model=\"email\"\n                       placeholder=\"Email\" maxlength=\"100\"/>\n                 <p id=\"email\" class=\"validation-alert\"></p>\n\n                <input type=\"password\" class=\"form-control\" name=\"password\" v-model=\"password\"\n                       placeholder=\"Password\" maxlength=\"100\"/>\n                <p id=\"psswd\" class=\"validation-alert\"></p>\n\n                <input type=\"submit\" style=\"float: right;\" class=\"btn btn-primary\" value=\"Register\"/>\n\n                <button style=\"margin-right: 1em; float: right\" type=\"button\" class=\"btn btn-warning\"\n                        onclick=\"window.history.back()\">Back</button>\n            </div>\n        </form>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: 'Register',\n        data() {\n            return {\n                firstName: \"\",\n                lastName: \"\",\n                email: \"\",\n                password: \"\",\n                allValid: true,\n            }\n        },\n        computed: {\n            missingFirstName: function () { return this.firstName === ''; },\n            missingLastName: function () { return this.lastName === ''; },\n            invalidEmail: function () { return this.isEmail(this.email) === false; },\n            duplicateEmail: function () { return this.email_in_db(this.email); },\n            invalidPassword: function() { return this.isPassword(this.password) === false; }\n        },\n        methods: {\n            isEmail: function (input) {\n                const re = /\\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}\\b/;\n                return re.test(input);\n            },\n            isPassword: function (input) {\n                const re = /^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{8,}$/;\n                return re.test(input);\n            },\n\n            validateFirstName: function() {\n                if (this.missingFirstName) {\n                    document.getElementById(\"fName\").innerHTML = \"First name is required.\";\n                    this.allValid = false;\n                }\n                else {\n                    document.getElementById(\"fName\").innerHTML = \"\";\n                }\n            },\n\n            validateLastName: function() {\n                if (this.missingLastName) {\n                    document.getElementById(\"lName\").innerHTML = \"Last name is required.\";\n                    this.allValid = false;\n                }\n                else {\n                    document.getElementById(\"lName\").innerHTML = \"\";\n                }\n            },\n\n            validatePassword: function() {\n                if (this.invalidPassword) {\n                    document.getElementById(\"psswd\").innerHTML = \"Password must be at least 8 characters long, and contain one number and one special character.\";\n                    this.allValid = false;\n                }\n                else {\n                    document.getElementById(\"psswd\").innerHTML = \"\";\n                }\n            },\n\n            validateEmail: function() {\n                if (this.invalidEmail) {\n                    document.getElementById(\"email\").innerHTML = \"Email is required, and must be of a valid email format.\";\n                    this.allValid = false;\n                }\n                else {\n                    this.duplicateEmail.then((inDb) => {\n                        if (inDb) {\n                            alert(\"duplicateEmail if statement called\");\n                            document.getElementById(\"email\").innerHTML = \"User account with this email already exists.\";\n                            this.allValid = false;\n                       } else {\n                            alert(\"html set to blank\")\n                            document.getElementById(\"email\").innerHTML = \"\";\n                        }\n                    }).then(() => {\n                        if (!this.allValid) {\n                            return;\n                        }\n\n                        this.register();\n                    });\n                }\n            },\n\n            validateForm: function (event) {\n                this.allValid = true;\n\n                this.validateFirstName();\n                this.validateLastName();\n                this.validatePassword();\n                this.validateEmail();\n\n                // event.preventDefault();\n            },\n\n\n            email_in_db() {\n                alert(\"email_in_db called - she wants her clothes back\")\n                return this.$store.dispatch('emailInDB', {\n                    email: this.email,\n                })\n                    .then((response) => {\n                        var result = Boolean(response);\n                        if (result) {\n                            alert(\"Its true!\")\n                            return true\n                        }\n                        else {\n                            alert(\"Its false!!\")\n                            return false\n                        }\n                    })\n            },\n            register() {\n                this.$store.dispatch('registerUser', {\n                    firstName: this.firstName,\n                    lastName: this.lastName,\n                    email: this.email,\n                    password: this.password\n                })\n                    .then(() => {\n                        this.$router.push({name: 'login'})\n                    })\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    #register {\n        position: fixed;\n        top: 10%;\n        left: 11%;\n        width: 50%;\n        border: 1px solid grey;\n        background-color: #FFFFFF;\n        margin: 10em;\n        padding: 20px;\n    }\n\n    input {\n        margin-bottom: 1em;\n    }\n\n    .validation-alert {\n        color: red;\n        font-size: medium;\n    }\n</style>"],"sourceRoot":"src/components/auth"}]}